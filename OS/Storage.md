Storage
===========================

# Storage
* 데이터를 저장할 수 있는 장소
* 직접 서버에 연결이 가능
* 대용량의 데이터를 저장하기 위해 별도의 네트워크 스토리지 구축 가능


# Storage Type - File Storage
* 일반적으로 NAS 혹은 DAS에서 사용
* 파일 기반 스토리지
* 파일과 디렉토리가 계층적 구조를 이루고 있음
* 메타데이터를 통해 해당 파일을 찾음
* 폴더에 파일을 넣고 저장
* 다수의 사용자가 동시에 스토리지의 데이터 공유 가능
* 파일이 디렉토리에 저장되고 해당 파일을 찾기 위해서는 경로를 알고 있어야 함(경로가 복잡한 경우 찾기 어려울 수 있음)
* 저장할 파일의 수가 적을 때는 저장하고 찾기가 쉽지만 파일의 수가 많아질 수록 찾기 어려워짐   
<img width="601" alt="스크린샷 2021-05-13 오전 2 19 58" src="https://user-images.githubusercontent.com/57285121/118017550-b8fab500-b391-11eb-980b-543b9299e60b.png">   

* 장점   
> * 파일의 수가 적을 경우에는 파일을 저장하고 찾기가 쉽다   
> * 다수의 사용자가 동시에 스토리지의 데이터를 공유할 수 있음   
* 단점   
> * 저장되는 파일의 수가 많아질 경우에는 파일을 찾기 어려워짐   

# Storage Type - Block Storage
* 일반적으로 SAN에서 사용
* 균등한 크기로 정의된 블록에 데이터를 분할해서 저장하는 스토리지
* 블록이라는 특정 공간 위치에 데이터를 저장하고 접근하는 방식(C드라이브, D드라이브같은 개념)
* 블록은 각각 독립적으로 주소를 가지고 존재하며 분할(파티션)이 가능
* 보통 데이터센터의 서버에 가깝게 위치(서버에서 접근이 가능한 볼륨으로 스토리지를 구성)
* 서버가 데이터 관리의 주체가 되기 때문에 서버가 고장나면 이용할 수 없고 사용자와 스토리지가 1:1로 데이터를 공유해야함
* 데이터를 저장하고 읽기 위해서는(데이터 입, 출력) 컨트롤러가 필요함(여기저기 분할된 데이터 블록들을 다시 합침)
* 파일 스토리지와는 다르게 경로에 의존하지 않음
* 다른 OS에서도 접근이 가능함
* 비용이 많이 들고 관리의 부담이 늘어나게 됨   
<img width="641" alt="스크린샷 2021-05-13 오전 2 19 25" src="https://user-images.githubusercontent.com/57285121/118017487-a54f4e80-b391-11eb-8ecd-6eb28ab22a3d.png">   

* 장점   
> * 데이터 저장 시 블록들을 굳이 인접하게 저장할 필요가 없기 때문에 저장함에 있어서 효율적으로 저장이 가능   
> * 데이터를 찾을 때에도 데이터의 독립적인 주소를 통해 빠른 검색이 가능   
* 단점   
> * 구성하는데 있어서 복잡하고 비용적으로 많이 듦   

# Storage Type - Object Storage
* 오브젝트 기반 스토리지
* 별도의 저장소에 논리적인 오브젝트 단위로 데이터를 저장
* 계층적 구조가 아닌 flat한 구조로 저장
* 최상의 접근성과 안정성을 제공
* 데이터 저장소(풀)에 데이터+메타데이터+키 형태로 저장


# DAS
* Direct Attached Storage
* HDD를 여러 개 장착한 스토리지
* 유선으로 외장하드처럼 사용이 가능함   
<img width="480" alt="스크린샷 2021-05-06 오후 4 56 47" src="https://user-images.githubusercontent.com/57285121/117262297-0f488f00-ae8c-11eb-927f-3fadf1c54aae.png">   

* 호스트에 직접 꽂아서 1:1로 사용(USB처럼)
* 각 호스트는 자신이 직접 파일 시스템 관리
* 장점   
> * 저장장치를 직접 연결하므로 속도가 빠르며 확장이 쉽다  
> * 저장장치까지 가까운 곳에서 접근이 가능   
* 단점   
> * 연결 수에 한계가 있음   
> * 호스트 장애 시 스토리지 접근이 제한됨   
> * 물리적 공간이 부족할 때 확장이 어려움   

# NAS
* Network Attached Stroage
* DAS에 네트워크 기능을 탑재
* 호스트와 저장장치가 스위치를 통해 네트워크(LAN)에 연결됨
<img width="711" alt="스크린샷 2021-05-06 오후 5 03 31" src="https://user-images.githubusercontent.com/57285121/117263196-fee4e400-ae8c-11eb-9268-75e6b92a6b8d.png">   

* 주요 프로토콜   
> * FTP(File Transfer Protocol)   
> * NFS(Network File System)   
* 장점   
> * 네트워크를 통해 데이터를 저장 및 공유하므로 빠른 네트워크 속도를 통한 전송 속도 향상 가능   
* 단점
> * 네트워크의 접속자가 많아지면 성능이 저하될 수 있고 DAS에 비해 속도가 느림   

# SAN
* Storage Area Network
* 여러 스토리지를 하나의 네트워크에 연결하고 연결한 네트워크를 스토리지 전용 네트워크(SAN)로 구성
* 스토리지에 접근하려면 각 호스트들은 모두 SAN네트워크를 거쳐서 접근해야함 
* 별도의 SAN 스위치가 필요함
<img width="711" alt="스크린샷 2021-05-06 오후 5 08 17" src="https://user-images.githubusercontent.com/57285121/117263883-ab26ca80-ae8d-11eb-9703-52743f78de42.png">   

* FC-SAN(Fiber Channel SAN) : 광 케이블을 이용하여 스토리지에 접근
* IP-SAN : IP를 이용하여 스토리지에 접근
* 장점   
> * 확장성이 좋음   
* 단점 
> * 구성에 따라 네트워크 복잡도가 높아짐
